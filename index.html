<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Global Water Fund — Earth</title>

<style>
:root{
  --bg0:#07080b;
  --bg1:#0b0d12;
  --ink:#f2f5ff;
  --muted2:rgba(242,245,255,.48);
  --accent:#9fd7ff;
  --line:rgba(255,255,255,.12);
  --glass:rgba(0,0,0,.78);
}

html, body{
  margin:0;
  padding:0;
  width:100%;
  height:auto;
  min-height:100%;
  overflow-x:hidden;
  overflow-y:auto;
  -webkit-overflow-scrolling:touch;
  background: radial-gradient(1200px 800px at 60% 35%, var(--bg1) 0%, var(--bg0) 55%, #05060a 100%);
  color:var(--ink);
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}

a{ color:inherit; text-decoration:none; }

/* ===== HEADER ===== */
header{
  position:sticky;
  top:0;
  z-index:1000;
  padding:14px 16px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:14px;
  background:var(--glass);
  border-bottom:1px solid var(--line);
  backdrop-filter:blur(10px);
}

.brand{
  display:flex;
  align-items:center;
  gap:10px;
  font-size:11px;
  letter-spacing:.26em;
  text-transform:uppercase;
  color:var(--muted2);
  white-space:nowrap;
}

.dot{
  width:10px;height:10px;
  border-radius:50%;
  background:var(--accent);
  box-shadow:0 0 14px rgba(159,215,255,.30);
}

nav.top-nav{ display:flex; gap:14px; }
nav.top-nav a{
  font-size:11px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color:rgba(242,245,255,.74);
  padding:10px;
  border-radius:999px;
}

nav.top-nav a[aria-current="page"]{
  color:var(--ink);
  border:1px solid rgba(159,215,255,.45);
  background:rgba(159,215,255,.10);
}

.menuBtn{
  appearance:none;
  border:1px solid rgba(242,245,255,.26);
  background:rgba(255,255,255,.06);
  color:#fff;
  padding:10px 14px;
  border-radius:999px;
  font-size:12px;
  letter-spacing:.22em;
  text-transform:uppercase;
  cursor:pointer;
  display:flex;
  gap:10px;
  align-items:center;
}

.hamburger{ width:18px; height:12px; position:relative; }
.hamburger span{ position:absolute; left:0; right:0; height:2px; background:#fff; }
.hamburger span:nth-child(1){ top:0 }
.hamburger span:nth-child(2){ top:5px }
.hamburger span:nth-child(3){ top:10px }

@media (min-width:861px){ .menuBtn{ display:none; } }
@media (max-width:860px){ nav.top-nav{ display:none; } }

/* ===== MOBILE MENU ===== */
.mobileMenu{
  position:fixed;
  inset:0;
  z-index:1200;
  display:none;
  background:rgba(0,0,0,.65);
  backdrop-filter:blur(8px);
}
.mobileMenu[aria-hidden="false"]{ display:block; }

.mobilePanel{
  position:absolute;
  top:14px; left:14px; right:14px;
  border:1px solid var(--line);
  border-radius:18px;
  background:rgba(0,0,0,.80);
  overflow:hidden;
}

.mobileTop{
  padding:14px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  border-bottom:1px solid var(--line);
}

.closeBtn{
  border:1px solid rgba(242,245,255,.26);
  background:rgba(255,255,255,.06);
  color:#fff;
  padding:10px 12px;
  border-radius:999px;
  font-size:11px;
  letter-spacing:.18em;
  text-transform:uppercase;
}

.mobileLinks a{
  display:block;
  padding:14px;
  border-top:1px solid rgba(255,255,255,.08);
  font-size:12px;
  letter-spacing:.14em;
  text-transform:uppercase;
}

.mobileLinks a[aria-current="page"]{
  background:rgba(159,215,255,.10);
  color:var(--ink);
}

/* ===== EARTH STAGE ===== */
.stage{
  position:relative;
  min-height:92vh;
  overflow:hidden;
}

canvas{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  display:block;
}

footer{
  border-top:1px solid var(--line);
  padding:18px;
  font-size:11px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color:var(--muted2);
  text-align:center;
}
</style>
</head>

<body>

<header>
  <a class="brand" href="index.html"><span class="dot"></span>GLOBAL WATER FUND</a>

  <nav class="top-nav">
    <a href="index.html" aria-current="page">Earth</a>
    <a href="planetary.html">Stability</a>
    <a href="map.html">Map</a>
    <a href="capabilities.html">Capabilities</a>
    <a href="forecasting.html">Foresight</a>
    <a href="maritime.html">Maritime</a>
    <a href="capital.html">Capital</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
  </nav>

  <button class="menuBtn" id="menuBtn">
    <span class="hamburger"><span></span><span></span><span></span></span>
    Menu
  </button>
</header>

<div class="mobileMenu" id="mobileMenu" aria-hidden="true">
  <div class="mobilePanel">
    <div class="mobileTop">
      <div class="brand"><span class="dot"></span> GLOBAL WATER FUND</div>
      <button class="closeBtn" id="closeBtn">Close</button>
    </div>
    <div class="mobileLinks">
      <a href="index.html" aria-current="page">Earth</a>
      <a href="planetary.html">Stability</a>
      <a href="map.html">Map</a>
      <a href="capabilities.html">Capabilities</a>
      <a href="forecasting.html">Foresight</a>
      <a href="maritime.html">Maritime</a>
      <a href="capital.html">Capital</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
    </div>
  </div>
</div>

<section class="stage">
  <canvas id="globe"></canvas>
</section>

<footer>GLOBAL WATER FUND — WATER • SYSTEMS • SECURITY</footer>

<script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>

<script>
(function(){
  const canvas = document.getElementById("globe");

  const renderer = new THREE.WebGLRenderer({ canvas, antialias:true, alpha:true });
  renderer.setPixelRatio(Math.min(window.devicePixelRatio || 1, 2));
  renderer.outputColorSpace = THREE.SRGBColorSpace;

  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(35, 1, 0.1, 100);
  camera.position.set(0, 0, 6);

  scene.add(new THREE.AmbientLight(0xffffff, 0.45));
  const light = new THREE.DirectionalLight(0xffffff, 1.1);
  light.position.set(5, 3, 5);
  scene.add(light);

  const loader = new THREE.TextureLoader();
  loader.crossOrigin = "anonymous";

  const earthGeo = new THREE.SphereGeometry(2, 128, 128);

  loader.load(
    "https://threejs.org/examples/textures/planets/earth_atmos_2048.jpg",
    texture => {
      texture.colorSpace = THREE.SRGBColorSpace;

      const earthMat = new THREE.MeshPhongMaterial({
        map: texture,
        shininess: 10
      });

      const earth = new THREE.Mesh(earthGeo, earthMat);
      scene.add(earth);

      function resize(){
        const w = canvas.clientWidth;
        const h = canvas.clientHeight;
        if (!w || !h) return;
        renderer.setSize(w, h, false);
        camera.aspect = w / h;
        camera.updateProjectionMatrix();
      }

      window.addEventListener("resize", resize);

      function animate(){
        requestAnimationFrame(animate);
        resize();
        earth.rotation.y += 0.0025;
        renderer.render(scene, camera);
      }

      animate();
    }
  );

  const menuBtn = document.getElementById('menuBtn');
  const closeBtn = document.getElementById('closeBtn');
  const mobileMenu = document.getElementById('mobileMenu');

  function openMenu(){
    mobileMenu.setAttribute('aria-hidden','false');
    document.body.style.overflow='hidden';
  }
  function closeMenu(){
    mobileMenu.setAttribute('aria-hidden','true');
    document.body.style.overflow='';
  }

  menuBtn.addEventListener('click', openMenu);
  closeBtn.addEventListener('click', closeMenu);
  mobileMenu.addEventListener('click', e => { if(e.target===mobileMenu) closeMenu(); });
})();
</script>

</body>
</html>
