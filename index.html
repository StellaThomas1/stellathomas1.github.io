<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Global Water Fund — Planetary Water Systems</title>

  <style>
    :root{
      --bg0:#07080b;
      --bg1:#0b0d12;
      --ink:#f2f5ff;
      --muted:rgba(242,245,255,.70);
      --muted2:rgba(242,245,255,.48);
      --accent:#9fd7ff;
      --accent2:#4aa3ff;
      --line:rgba(242,245,255,.10);
      --panel:rgba(255,255,255,.04);
    }

    /* ✅ Scrolling on mobile + desktop */
    html, body {
      margin:0;
      padding:0;
      width:100%;
      min-height:100%;
      background: radial-gradient(1200px 800px at 60% 35%, var(--bg1) 0%, var(--bg0) 55%, #05060a 100%);
      color:var(--ink);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      overflow-x:hidden;
      overflow-y:auto;
      -webkit-overflow-scrolling: touch;
    }

    /* ---------- Header / Nav ---------- */
    .siteHeader{
      position:fixed;
      top:0; left:0; right:0;
      z-index:50;
      padding: 14px clamp(16px, 3.5vw, 34px);
      display:flex;
      align-items:center;
      justify-content:space-between;
      background: linear-gradient(to bottom, rgba(7,8,11,.70), rgba(7,8,11,.18), rgba(7,8,11,0));
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      text-decoration:none;
      color:var(--ink);
      letter-spacing:.10em;
      text-transform:uppercase;
      font-size:12px;
      opacity:.92;
      white-space:nowrap;
    }

    .navDesktop{
      display:flex;
      gap:18px;
      align-items:center;
    }

    .navDesktop a{
      color:var(--muted);
      text-decoration:none;
      font-size:13px;
      letter-spacing:.06em;
      text-transform:uppercase;
      padding:8px 10px;
      border-radius:10px;
    }

    .navDesktop a:hover{
      color:var(--ink);
      background:rgba(255,255,255,.05);
    }

    .hamburger{
      display:none;
      width:44px;
      height:44px;
      border-radius:14px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.03);
      color:var(--ink);
      cursor:pointer;
      align-items:center;
      justify-content:center;
    }

    .hamburger:focus{ outline:2px solid rgba(159,215,255,.35); outline-offset:2px; }

    .hamburger svg{ width:22px; height:22px; }

    /* Mobile nav overlay */
    .navOverlay{
      position:fixed;
      inset:0;
      z-index:60;
      display:none;
      background:rgba(5,6,10,.62);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }

    .navPanel{
      position:absolute;
      top:12px;
      right:12px;
      left:12px;
      border:1px solid var(--line);
      border-radius:20px;
      background:rgba(10,12,18,.88);
      box-shadow: 0 20px 60px rgba(0,0,0,.45);
      padding: 14px;
      overflow:hidden;
    }

    .navPanelTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding-bottom:10px;
      border-bottom:1px solid var(--line);
      margin-bottom:10px;
    }

    .navTitle{
      font-size:12px;
      letter-spacing:.14em;
      text-transform:uppercase;
      color:var(--muted2);
    }

    .closeBtn{
      width:44px;
      height:44px;
      border-radius:14px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.03);
      color:var(--ink);
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .navLinks{
      display:grid;
      gap:8px;
      padding: 6px 0 10px;
    }

    .navLinks a{
      text-decoration:none;
      color:var(--ink);
      padding:14px 14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.08);
      background:rgba(255,255,255,.03);
      font-size:14px;
      letter-spacing:.04em;
    }

    .navLinks a span{
      display:block;
      font-size:11px;
      color:var(--muted2);
      margin-top:6px;
      letter-spacing:.10em;
      text-transform:uppercase;
    }

    .navOverlay.isOpen{ display:block; }

    /* ---------- Hero / Globe ---------- */
    .stage{
      position:relative;
      min-height:100vh;
      overflow:hidden;
      padding-top:72px; /* header spacing */
    }

    canvas{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      display:block;
      pointer-events:none; /* ✅ never blocks scrolling/taps */
    }

    .heroText{
      position:relative;
      z-index:5;
      min-height:calc(100vh - 72px);
      display:grid;
      align-content:center;
      padding: clamp(22px, 5vw, 72px);
      max-width: 980px;
      pointer-events:none;
    }

    .kicker{
      text-transform:uppercase;
      letter-spacing:.18em;
      font-size:12px;
      color:var(--muted2);
      margin-bottom:12px;
      opacity:0;
      transform: translateY(8px);
      animation: fadeUp .65s ease forwards;
      animation-delay: .15s;
    }

    h1{
      font-size: clamp(36px, 4.6vw, 68px);
      line-height: 1.03;
      margin:0 0 14px 0;
      font-weight:650;
      letter-spacing:-0.01em;
      opacity:0;
      transform: translateY(8px);
      animation: fadeUp .75s ease forwards;
      animation-delay: .35s;
    }

    .sub{
      font-size: clamp(15px, 1.6vw, 20px);
      max-width: 64ch;
      color: var(--muted);
      line-height:1.55;
      opacity:0;
      transform: translateY(8px);
      animation: fadeUp .75s ease forwards;
      animation-delay: .55s;
    }

    @keyframes fadeUp { to { opacity:1; transform: translateY(0); } }

    /* ✅ Scroll button (clickable) */
    .scrollBtn{
      position:absolute;
      left:0; right:0; bottom:18px;
      margin:auto;
      width:max-content;
      z-index:55;
      pointer-events:auto;
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;
      border-radius:999px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.03);
      color:var(--muted);
      cursor:pointer;
      font-size:11px;
      letter-spacing:.14em;
      text-transform:uppercase;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }

    .scrollBtn:hover{ color:var(--ink); background:rgba(255,255,255,.05); }
    .scrollBtn svg{ width:16px; height:16px; opacity:.9; }

    /* ---------- Content section (gives real scroll) ---------- */
    .content{
      position:relative;
      z-index:2;
      padding: 64px clamp(18px, 4vw, 72px) 90px;
      border-top:1px solid rgba(255,255,255,.06);
      background: linear-gradient(to bottom, rgba(5,6,10,0), rgba(5,6,10,.55) 30%, rgba(5,6,10,.80));
    }

    .contentWrap{
      max-width:1100px;
      margin:0 auto;
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap:26px;
      align-items:start;
    }

    .card{
      border:1px solid var(--line);
      background:var(--panel);
      border-radius:22px;
      padding:18px;
    }

    .card h2{
      margin:0 0 8px 0;
      font-size:18px;
      letter-spacing:-0.01em;
      font-weight:650;
    }

    .card p{
      margin:0;
      color:var(--muted);
      line-height:1.6;
      font-size:15px;
    }

    .pillRow{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top:12px;
    }

    .pill{
      border:1px solid rgba(255,255,255,.10);
      background:rgba(255,255,255,.03);
      border-radius:999px;
      padding:10px 12px;
      font-size:12px;
      color:var(--muted);
      letter-spacing:.06em;
      text-transform:uppercase;
      user-select:none;
    }

    /* Mobile */
    @media (max-width: 900px){
      .navDesktop{ display:none; }
      .hamburger{ display:flex; }
      .stage{ min-height: 88vh; padding-top:66px; }
      .heroText{ min-height: calc(88vh - 66px); padding: 22px; }
      .contentWrap{ grid-template-columns:1fr; }
    }
  </style>
</head>

<body>
  <!-- ✅ Header with desktop nav + mobile menu button -->
  <header class="siteHeader" role="banner">
    <a class="brand" href="#">
      <span>GLOBAL WATER FUND</span>
    </a>

    <nav class="navDesktop" aria-label="Primary">
      <a href="about.html">About</a>
      <a href="work.html">Work</a>
      <a href="insights.html">Insights</a>
      <a href="contact.html">Contact</a>
    </nav>

    <button class="hamburger" id="menuBtn" aria-label="Open menu" aria-expanded="false" aria-controls="navOverlay">
      <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
    </button>
  </header>

  <!-- ✅ Mobile menu overlay -->
  <div class="navOverlay" id="navOverlay" aria-hidden="true">
    <div class="navPanel" role="dialog" aria-modal="true" aria-label="Menu">
      <div class="navPanelTop">
        <div class="navTitle">Menu</div>
        <button class="closeBtn" id="closeBtn" aria-label="Close menu">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>

      <div class="navLinks">
        <a href="about.html">About <span>Mission & team</span></a>
        <a href="work.html">Work <span>Programs & partners</span></a>
        <a href="insights.html">Insights <span>Research & briefs</span></a>
        <a href="contact.html">Contact <span>Get in touch</span></a>
        <a href="earth/planetary.html">Enter Planetary <span>Full experience</span></a>
      </div>
    </div>
  </div>

  <section class="stage" id="hero">
    <canvas id="globe"></canvas>

    <div class="heroText">
      <div class="kicker">GLOBAL WATER FUND</div>
      <h1>Global water intelligence.</h1>
      <div class="sub">Seeing the whole system—basins, risk, finance, and security—before it becomes a crisis headline.</div>
    </div>

    <!-- ✅ Scroll button that actually scrolls -->
    <button class="scrollBtn" id="scrollBtn" type="button" aria-label="Scroll to content">
      Scroll
      <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M12 5v12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <path d="M7 14l5 5 5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
  </section>

  <!-- ✅ Content section provides real scroll area -->
  <section class="content" id="content">
    <div class="contentWrap">
      <div class="card">
        <h2>Planetary water systems, made decision-ready.</h2>
        <p>
          A compact view of the water cycle as infrastructure: watersheds, supply chains, climate stress, and the policies
          that decide who gets resilience—and who gets rationing.
        </p>
        <div class="pillRow">
          <div class="pill">Risk intelligence</div>
          <div class="pill">Basin analytics</div>
          <div class="pill">Finance signals</div>
          <div class="pill">Security nexus</div>
        </div>
      </div>

      <div class="card">
        <h2>Enter Planetary</h2>
        <p>Prefer to skip the intro? Jump straight into the full experience.</p>
        <div class="pillRow">
          <a class="pill" href="earth/planetary.html" style="text-decoration:none;color:var(--ink);">Open planetary</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Classic three.js (stable) -->
  <script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>

  <script>
    (function(){
      const canvas = document.getElementById("globe");
      const heroEl = document.getElementById("hero");

      const SETTINGS = {
        baseSpin: 0.010,
        cloudSpin: 0.016,
        bobSpeed: 0.020,
        riversStart: 0.18,
        riversPeak:  0.50,
        detachStart: 0.52,
        detachEnd:   0.90,
        earthDesat: 0.88,
        earthContrast: 1.10,
        earthBrightness: 0.98,
        riverCount: 42,
        riverPointsPer: 120,
        riverGlow: 1.0,
        dropletCount: 3200,
        dropletSize: 0.018,
        dropletFall: 0.040
      };

      const isMobile = window.matchMedia && window.matchMedia("(max-width: 900px)").matches;
      if (isMobile){
        SETTINGS.riverCount = 30;
        SETTINGS.dropletCount = 2200;
        SETTINGS.dropletSize = 0.020;
      }

      const prefersReducedMotion = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
      if (prefersReducedMotion){
        SETTINGS.baseSpin = 0;
        SETTINGS.cloudSpin = 0;
        SETTINGS.bobSpeed = 0;
      }

      const clamp01 = (x)=>Math.max(0, Math.min(1, x));

      function getProgress(){
        const rect = heroEl.getBoundingClientRect();
        const h = heroEl.offsetHeight || window.innerHeight;
        return clamp01((-rect.top) / (h * 0.95));
      }

      const renderer = new THREE.WebGLRenderer({ canvas, antialias: !isMobile, alpha: true });
      renderer.setPixelRatio(Math.min(window.devicePixelRatio || 1, isMobile ? 1.5 : 2));
      renderer.outputColorSpace = THREE.SRGBColorSpace;

      const scene = new THREE.Scene();

      const camera = new THREE.PerspectiveCamera(35, 1, 0.1, 200);
      camera.position.set(0.35, 0.08, 6.2);

      scene.add(new THREE.AmbientLight(0xffffff, 0.30));

      const key = new THREE.DirectionalLight(0xffffff, 1.10);
      key.position.set(5, 2.5, 6);
      scene.add(key);

      const rim = new THREE.DirectionalLight(0x9fd7ff, 0.85);
      rim.position.set(-8, -2, 3);
      scene.add(rim);

      function resize(){
        const w = canvas.clientWidth;
        const h = canvas.clientHeight;
        if (!w || !h) return;
        renderer.setSize(w, h, false);
        camera.aspect = w / h;
        camera.updateProjectionMatrix();
      }
      window.addEventListener("resize", resize);

      const TEX = {
        day:    "https://threejs.org/examples/textures/planets/earth_atmos_2048.jpg",
        normal: "https://threejs.org/examples/textures/planets/earth_normal_2048.jpg",
        spec:   "https://threejs.org/examples/textures/planets/earth_specular_2048.jpg",
        clouds: "https://threejs.org/examples/textures/planets/earth_clouds_1024.png"
      };

      const loader = new THREE.TextureLoader();
      loader.crossOrigin = "anonymous";
      const loadTex = (url)=>new Promise((resolve,reject)=>{
        loader.load(url, t => { t.colorSpace = THREE.SRGBColorSpace; resolve(t); }, undefined, reject);
      });

      const seg = isMobile ? 96 : 128;
      const earthGeo  = new THREE.SphereGeometry(1.95, seg, seg);
      const cloudsGeo = new THREE.SphereGeometry(1.975, seg, seg);

      let earth, clouds, atmo;

      const riverGroup = new THREE.Group();
      scene.add(riverGroup);

      function randomOnSphere(){
        const u = Math.random();
        const v = Math.random();
        const theta = 2*Math.PI*u;
        const phi = Math.acos(2*v-1);
        const x = Math.sin(phi)*Math.cos(theta);
        const y = Math.cos(phi);
        const z = Math.sin(phi)*Math.sin(theta);
        return new THREE.Vector3(x,y,z);
      }

      function greatCircle(a,b,t){
        const dot = Math.max(-1, Math.min(1, a.dot(b)));
        const omega = Math.acos(dot);
        if (omega < 1e-6) return a.clone();
        const so = Math.sin(omega);
        const s1 = Math.sin((1-t)*omega)/so;
        const s2 = Math.sin(t*omega)/so;
        return a.clone().multiplyScalar(s1).add(b.clone().multiplyScalar(s2)).normalize();
      }

      function makeRiverLine(){
        const a = randomOnSphere();
        const b = randomOnSphere().lerp(a, 0.35).normalize();

        const pts = [];
        for (let i=0;i<SETTINGS.riverPointsPer;i++){
          const t = i/(SETTINGS.riverPointsPer-1);
          const p = greatCircle(a,b,t);
          const n = new THREE.Vector3(
            (Math.random()-0.5)*0.02,
            (Math.random()-0.5)*0.02,
            (Math.random()-0.5)*0.02
          );
          p.add(n).normalize();
          pts.push(p.multiplyScalar(1.955));
        }

        const geo = new THREE.BufferGeometry().setFromPoints(pts);
        const mat = new THREE.LineBasicMaterial({
          color: 0x4aa3ff,
          transparent: true,
          opacity: 0.0,
          blending: THREE.AdditiveBlending
        });

        const line = new THREE.Line(geo, mat);
        line.userData.seed = Math.random()*Math.PI*2;
        riverGroup.add(line);
      }

      const dropletGeom = new THREE.BufferGeometry();
      let dropletPositions, dropletVelocities;
      const dropletMat = new THREE.PointsMaterial({
        color: 0x9fd7ff,
        size: SETTINGS.dropletSize,
        transparent: true,
        opacity: 0.0,
        depthWrite: false,
        blending: THREE.AdditiveBlending
      });
      const droplets = new THREE.Points(dropletGeom, dropletMat);
      scene.add(droplets);

      function initDroplets(){
        dropletPositions = new Float32Array(SETTINGS.dropletCount*3);
        dropletVelocities = new Float32Array(SETTINGS.dropletCount*3);

        for(let i=0;i<SETTINGS.dropletCount;i++){
          const p = randomOnSphere().multiplyScalar(1.98);
          dropletPositions[i*3+0]=p.x;
          dropletPositions[i*3+1]=p.y;
          dropletPositions[i*3+2]=p.z;

          dropletVelocities[i*3+0]=(Math.random()-0.5)*0.01;
          dropletVelocities[i*3+1]=-(0.02 + Math.random()*0.03);
          dropletVelocities[i*3+2]=(Math.random()-0.5)*0.01;
        }

        dropletGeom.setAttribute("position", new THREE.BufferAttribute(dropletPositions, 3));
      }

      Promise.all([loadTex(TEX.day), loadTex(TEX.normal), loadTex(TEX.spec), loadTex(TEX.clouds)])
        .then(([day, normal, spec, cloudsTex]) => {
          const earthMat = new THREE.MeshPhongMaterial({
            map: day,
            normalMap: normal,
            specularMap: spec,
            specular: new THREE.Color(0x2b5a7a),
            shininess: 14
          });

          earthMat.onBeforeCompile = (shader) => {
            shader.uniforms.uDesat = { value: SETTINGS.earthDesat };
            shader.uniforms.uContrast = { value: SETTINGS.earthContrast };
            shader.uniforms.uBright = { value: SETTINGS.earthBrightness };

            shader.fragmentShader = shader.fragmentShader.replace(
              "#include <dithering_fragment>",
              `
                float luma = dot(gl_FragColor.rgb, vec3(0.299, 0.587, 0.114));
                vec3 gray = vec3(luma);
                gl_FragColor.rgb = mix(gl_FragColor.rgb, gray, uDesat);
                gl_FragColor.rgb = (gl_FragColor.rgb - 0.5) * uContrast + 0.5;
                gl_FragColor.rgb *= uBright;
                #include <dithering_fragment>
              `
            );

            shader.fragmentShader = "uniform float uDesat; uniform float uContrast; uniform float uBright;\n" + shader.fragmentShader;
          };

          earth = new THREE.Mesh(earthGeo, earthMat);
          earth.rotation.y = 0.9;
          scene.add(earth);

          clouds = new THREE.Mesh(cloudsGeo, new THREE.MeshLambertMaterial({
            map: cloudsTex,
            transparent: true,
            opacity: 0.32,
            depthWrite: false
          }));
          clouds.rotation.y = earth.rotation.y + 0.35;
          scene.add(clouds);

          atmo = new THREE.Mesh(
            new THREE.SphereGeometry(2.05, seg, seg),
            new THREE.MeshBasicMaterial({
              color: 0x9fd7ff,
              transparent: true,
              opacity: 0.08,
              depthWrite: false,
              blending: THREE.AdditiveBlending
            })
          );
          scene.add(atmo);

          for(let i=0;i<SETTINGS.riverCount;i++) makeRiverLine();
          initDroplets();

          animate();
        })
        .catch(err => console.error("Texture load error:", err));

      let tick = 0;
      function animate(){
        requestAnimationFrame(animate);
        resize();

        const p = getProgress();
        tick += SETTINGS.bobSpeed;

        if (earth){
          earth.rotation.y += SETTINGS.baseSpin;
          earth.rotation.x = Math.sin(tick) * 0.02;

          if (clouds) clouds.rotation.y += SETTINGS.cloudSpin;

          camera.position.z = 6.2 + p * (isMobile ? 1.1 : 1.35);
          camera.position.y = 0.08 + p * 0.22;

          const rIn = clamp01((p - SETTINGS.riversStart) / (SETTINGS.riversPeak - SETTINGS.riversStart));
          const rOut = 1.0 - clamp01((p - SETTINGS.riversPeak) / (SETTINGS.detachEnd - SETTINGS.riversPeak));
          const riverStrength = clamp01(rIn * rOut);

          riverGroup.children.forEach((line) => {
            const pulse = 0.65 + 0.35*Math.sin(tick*1.2 + line.userData.seed);
            line.material.opacity = 0.85 * riverStrength * pulse * SETTINGS.riverGlow;
          });

          const detach = clamp01((p - SETTINGS.detachStart) / (SETTINGS.detachEnd - SETTINGS.detachStart));
          const detachEase = detach*detach*(3-2*detach);

          riverGroup.children.forEach((line) => {
            line.material.opacity *= (1.0 - detachEase*0.55);
          });

          dropletMat.opacity = 0.85 * detachEase;

          if (detachEase > 0.001){
            const posAttr = dropletGeom.getAttribute("position");
            const fall = SETTINGS.dropletFall * (0.55 + detachEase*1.8);

            for(let i=0;i<SETTINGS.dropletCount;i++){
              dropletPositions[i*3+0] += dropletVelocities[i*3+0] * (1 + detachEase*2.0);
              dropletPositions[i*3+1] += (dropletVelocities[i*3+1] - fall) * (1 + detachEase*1.7);
              dropletPositions[i*3+2] += dropletVelocities[i*3+2] * (1 + detachEase*2.0);

              if (dropletPositions[i*3+1] < -5.2){
                const p0 = randomOnSphere().multiplyScalar(1.98);
                dropletPositions[i*3+0]=p0.x;
                dropletPositions[i*3+1]=p0.y;
                dropletPositions[i*3+2]=p0.z;
              }
            }
            posAttr.needsUpdate = true;
          }
        }

        renderer.render(scene, camera);
      }
    })();
  </script>

  <script>
    // ✅ Scroll button works (smooth scroll to #content)
    const scrollBtn = document.getElementById("scrollBtn");
    scrollBtn.addEventListener("click", () => {
      cancelAutoEnter();
      document.getElementById("content").scrollIntoView({ behavior: "smooth", block: "start" });
    });

    // ✅ Mobile menu button works
    const menuBtn = document.getElementById("menuBtn");
    const navOverlay = document.getElementById("navOverlay");
    const closeBtn = document.getElementById("closeBtn");

    function openMenu(){
      cancelAutoEnter();
      navOverlay.classList.add("isOpen");
      navOverlay.setAttribute("aria-hidden", "false");
      menuBtn.setAttribute("aria-expanded", "true");
      document.body.style.overflow = "hidden"; // prevent background scroll while menu open
    }

    function closeMenu(){
      navOverlay.classList.remove("isOpen");
      navOverlay.setAttribute("aria-hidden", "true");
      menuBtn.setAttribute("aria-expanded", "false");
      document.body.style.overflow = ""; // restore
    }

    menuBtn.addEventListener("click", () => {
      const open = navOverlay.classList.contains("isOpen");
      open ? closeMenu() : openMenu();
    });

    closeBtn.addEventListener("click", closeMenu);

    // close menu by tapping the dim background
    navOverlay.addEventListener("click", (e) => {
      if (e.target === navOverlay) closeMenu();
    });

    // close menu on link click
    navOverlay.querySelectorAll("a").forEach(a => {
      a.addEventListener("click", () => closeMenu());
    });

    // ✅ Auto-enter after 10 seconds — but cancel if user interacts/scrolls
    let autoEnterTimer = setTimeout(() => {
      window.location.href = "earth/planetary.html";
    }, 10000); // <-- 10 seconds

    function cancelAutoEnter(){
      if (autoEnterTimer){
        clearTimeout(autoEnterTimer);
        autoEnterTimer = null;
      }
    }

    // Any intentional interaction cancels auto-enter
    ["wheel","touchstart","keydown","mousedown","pointerdown","scroll"].forEach(evt => {
      window.addEventListener(evt, cancelAutoEnter, { passive: true });
    });
  </script>
</body>
</html>
